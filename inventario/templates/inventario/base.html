<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>{% block title %}SATNET{% endblock %}</title>

  <!-- Bootstrap & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

  <style>
    body { display: flex; min-height: 100vh; flex-direction: column; background-color: #F8FAFC; }
    .wrapper { display: flex; flex: 1; }
  
    .sidebar {
      width: 240px;
      background-color: #1E293B;
      padding: 1.5rem;
    }
  
    .sidebar .nav-link {
      color: #F1F5F9;
      padding: 0.5rem 1rem;
      border-radius: 0.375rem;
      margin-bottom: 0.5rem;
      transition: background 0.2s ease;
    }
  
    .sidebar .nav-link:hover,
    .sidebar .nav-link.active {
      background-color: #334155;
      text-decoration: none;
    }
  
    .content {
      flex-grow: 1;
      padding: 2rem;
      background-color: #F8FAFC;
    }
  
    .btn-primary {
      background-color: #3B82F6;
      border-color: #3B82F6;
    }
  
    .btn-primary:hover {
      background-color: #2563EB;
      border-color: #2563EB;
    }
  
    .btn-success {
      background-color: #10B981;
      border-color: #10B981;
    }
  
    .btn-danger {
      background-color: #EF4444;
      border-color: #EF4444;
    }
  </style>
  
</head>
<body>
  <div class="wrapper">
    <aside class="sidebar">
      <h4 class="mb-4">ðŸ§¾ SATNET</h4>

      {% if user.is_authenticated %}
        <div class="mb-4">
          <strong>{{ user.username }}</strong><br>

          <!-- Logout por POST -->
          <form action="{% url 'logout' %}" method="post" class="d-inline">
            {% csrf_token %}
            <button type="submit" class="btn btn-link p-0 text-danger small">Cerrar sesiÃ³n</button>
          </form>
        </div>

        <ul class="nav flex-column">
          <li class="nav-item">
            <a class="nav-link d-flex align-items-center {% if request.resolver_match.url_name == 'lista_materiales' %}active{% endif %}"
               href="{% url 'inventario:lista_materiales' %}">
              <i class="bi bi-box-seam me-2"></i> Materiales
            </a>
          </li>

          <li class="nav-item">
            <a class="nav-link d-flex align-items-center {% if request.resolver_match.url_name == 'registrar_acta' %}active{% endif %}"
               href="{% url 'inventario:registrar_acta' %}">
              <i class="bi bi-plus-circle me-2"></i> Nueva Entrega
            </a>
          </li> 

          <li class="nav-item">
            <a class="nav-link d-flex align-items-center {% if request.resolver_match.url_name == 'lista_actas' %}active{% endif %}"
               href="{% url 'inventario:lista_actas' %}">
              <i class="bi bi-journal-text me-2"></i> Actas Registradas
            </a>
          </li>
        </ul>
      {% else %}
        <p>Acceso no autorizado</p>
      {% endif %}
    </aside>

    <main class="content">
      {% block content %}{% endblock %}
    </main>
  </div>
</body>
</html>
